(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{27:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(1),a=n.n(r),c=n(20),i=n.n(c),s=n(11),l=n(18),d=n(3),u=n(4),h=n(6),j=n(5),f=n(2),p=a.a.createContext({notes:[],folders:[],addFolder:function(){},deleteNote:function(){}}),b="http://localhost:9090",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.id===t}))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter((function(e){return e.folderId===t})):e},v=(n(27),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.context.folders,n=void 0===t?[]:t,r=this.props.match.params.folderId;return Object(o.jsxs)("ul",{children:[n.map((function(e){return r===e.id?Object(o.jsx)("li",{className:"activeFolder",children:Object(o.jsx)(s.b,{to:"/folder/".concat(e.id),children:e.name},e.id)}):Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"/folder/".concat(e.id),children:e.name},e.id)})})),Object(o.jsx)("li",{children:Object(o.jsx)("button",{type:"button",className:"add-folder-btn",onClick:function(t){return e.props.history.push("/new-folder")},children:"Add Folder"})})]})}}]),n}(a.a.Component));v.defaultProps={match:{params:{}},history:{push:{}}},v.contextType=p;var x=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.context,t=e.notes,n=void 0===t?[]:t,r=e.folders,a=void 0===r?[]:r,c=this.props.match.params.noteId,i=m(n,c)||{},s=i.folderId?function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(t){return t.id===e}))}(a,i.folderId):{name:""};return console.log(s),Object(o.jsx)("section",{children:Object(o.jsx)("h2",{children:s.name})})}}]),n}(a.a.Component);x.defaultProps={match:{params:{}}},x.contextType=p;var y=n(38),g=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=void 0===t?[]:t,r=this.props.match.params.folderId,a=function(t){t.preventDefault(),fetch("".concat(b,"/notes/").concat(t.target.name),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.context.deleteNote(t.target.name)})).catch((function(e){console.error({error:e})}))};return" "!==O(n,r)?Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)("button",{type:"button",className:"add-note-btn",onClick:function(t){return e.props.history.push("/new-note")},children:"Add Note"})}),O(n,r).map((function(e){return Object(o.jsxs)("li",{className:"note",children:[Object(o.jsx)("h2",{children:Object(o.jsx)(s.b,{to:"/note/".concat(e.id),children:e.name})}),Object(o.jsxs)("p",{children:["Date modified: ",Object(y.a)(new Date(e.modified),"MM/dd/yyyy")]}),Object(o.jsx)("button",{type:"button",name:e.id,onClick:a,children:"Delete Note"})]},e.id)}))]}):Object(o.jsx)(f.a,{to:"/"})}}]),n}(a.a.Component);g.defaultProps={match:{params:{}},onDeleteNote:function(){}},g.contextType=p;var N=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("h2",{children:"Cannot allow new note or folder."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component),k=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",touched:!1}},e}return Object(u.a)(n,[{key:"validateName",value:function(){var e=this.state.name.value.trim();return 0===e.length?"Name is required":this.context.folders.find((function(t){return t.name===e}))?"Name must be unique":void 0}},{key:"updateName",value:function(e){this.setState({name:{value:e,touched:!0}})}},{key:"render",value:function(){var e=this;return Object(o.jsxs)(N,{children:[Object(o.jsx)("section",{className:"addNewFolder",children:Object(o.jsxs)("form",{className:"new-folder-form",onSubmit:function(t){return function(t){t.preventDefault(),console.log(e.state.name.value),fetch("".concat(b,"/folders"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name.value})}).then((function(e){if(!e.ok)throw new Error("Cannot add this folder");return e.json()})).then((function(t){e.context.getStateUpdate(),e.props.history.goBack()})).catch((function(e){console.error({error:e})}))}(t)},children:[Object(o.jsx)("h2",{children:"Create a New Folder"}),Object(o.jsx)("label",{htmlFor:"folder-input",children:"Folder name:"}),Object(o.jsx)("input",{type:"text",id:"folder-input",onChange:function(t){return e.updateName(t.target.value)}}),Object(o.jsx)("button",{type:"submit",disabled:this.validateName(),children:"Add folder"}),Object(o.jsx)("p",{className:"errors",children:this.state.name.touched?this.validateName():""})]})}),"'"]})}}]),n}(a.a.Component);k.defaultProps={match:{params:{}},history:{goBack:function(){}},onAddFolder:function(){}},k.contextType=p;var w=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=void 0===t?[]:t,r=this.props.match.params.noteId,a=m(n,r);return a?Object(o.jsxs)("section",{children:[Object(o.jsxs)("div",{className:"note",children:[Object(o.jsx)("h2",{children:Object(o.jsx)(s.b,{to:"/note/".concat(a.id),children:a.name})}),Object(o.jsxs)("p",{children:["Date modified: ",Object(y.a)(new Date(a.modified),"MM/dd/yyyy")]}),Object(o.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),fetch("".concat(b,"/notes/").concat(r),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.context.deleteNote(r)})).catch((function(e){console.error({error:e})}))},children:"Delete Note"})]}),Object(o.jsx)("textarea",{cols:"60",rows:"20",value:a.content})]}):Object(o.jsx)(f.a,{to:"/"})}}]),n}(a.a.Component);w.defaultProps={match:{params:{}},history:{push:function(){}},onDeleteNote:function(){}},w.contextType=p;var C=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={name:{value:"",touched:!1},content:{value:"",touched:!1},folder:{value:"",touched:!1}},e}return Object(u.a)(n,[{key:"validateName",value:function(){if(0===this.state.name.value.trim().length)return"Name is required"}},{key:"updateName",value:function(e){this.setState({name:{value:e,touched:!0}})}},{key:"validateContent",value:function(){if(0===this.state.name.value.trim().length)return"Name is required"}},{key:"updateContent",value:function(e){this.setState({content:{value:e,touched:!0}})}},{key:"updateFolder",value:function(e){this.setState({folder:{value:e,touched:!0}})}},{key:"render",value:function(){var e=this,t=this.context.folders,n=void 0===t?[]:t,r=Object(y.a)(new Date,"yyyy-MM-dd")+"T00:00:00.000Z";console.log(r);return Object(o.jsx)(N,{children:Object(o.jsx)("section",{className:"addNewNote",children:Object(o.jsxs)("form",{className:"new-note-form",onSubmit:function(t){return function(t){t.preventDefault(),console.log(e.state.name.value),fetch("".concat(b,"/notes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name.value,modified:r,folderId:e.state.folder.value,content:e.state.content.value})}).then((function(e){if(!e.ok)throw new Error("Cannot add this note");return e.json()})).then((function(t){e.context.getStateUpdate(),e.props.history.goBack()})).catch((function(e){console.error({error:e})}))}(t)},children:[Object(o.jsx)("h2",{children:"Create a New Note"}),Object(o.jsx)("label",{htmlFor:"folder-input",children:"Name:"}),Object(o.jsx)("input",{type:"text",id:"name-input",onChange:function(t){return e.updateName(t.target.value)}}),Object(o.jsx)("p",{className:"errors",children:this.state.name.touched?this.validateName():""}),Object(o.jsx)("label",{htmlFor:"content-input",children:"Note:"}),Object(o.jsx)("textarea",{type:"text",id:"content-input",onChange:function(t){return e.updateContent(t.target.value)},rows:20}),Object(o.jsx)("label",{htmlFor:"folder-selection",children:"Folder:"}),Object(o.jsx)("select",{id:"folder-selection",onChange:function(t){return e.updateFolder(t.target.value)},children:n.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(o.jsx)("button",{className:"submit-note",type:"submit",disabled:this.validateName(),children:"Add Note"})]})})})}}]),n}(a.a.Component);C.defaultProps={match:{params:{}},history:{goBack:function(){}}},C.contextType=p;var D=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"Could not display navigation"})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component),E=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("h2",{children:"This note or list of notes could not be displayed."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component);function S(){return Object(o.jsxs)("section",{className:"notFound",children:[Object(o.jsx)("h2",{children:"This page cannot be found!"}),Object(o.jsx)("p",{children:"This page either does not exist or is missing! Please navigate elsewhere."})]})}var F=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={folders:[],notes:[].notes},e.getStateUpdate=function(){Promise.all([fetch("".concat(b,"/notes")),fetch("".concat(b,"/folders"))]).then((function(e){var t=Object(l.a)(e,2),n=t[0],o=t[1];return n.ok?o.ok?Promise.all([n.json(),o.json()]):o.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(l.a)(t,2),o=n[0],r=n[1];e.setState({notes:o,folders:r})})).catch((function(e){console.error({error:e})}))},e.handleDeleteNote=function(t){e.setState({notes:e.state.notes.filter((function(e){return e.id!==t}))})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("mounting app!"),this.getStateUpdate()}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.handleDeleteNote,getStateUpdate:this.getStateUpdate};return Object(o.jsx)(p.Provider,{value:e,children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:Object(o.jsx)(s.b,{className:"appTitle",to:"/",children:"Noteful"})})}),Object(o.jsxs)("main",{children:[Object(o.jsx)("nav",{children:Object(o.jsx)(D,{children:Object(o.jsxs)(f.d,{children:[Object(o.jsx)(f.b,{exact:!0,path:"/",component:v}),Object(o.jsx)(f.b,{path:"/folder/:folderId",component:v}),Object(o.jsx)(f.b,{path:"/note/:noteId",component:x}),Object(o.jsx)(f.b,{component:v})]})})}),Object(o.jsx)("section",{className:"output",children:Object(o.jsx)(E,{children:Object(o.jsxs)(f.d,{children:[Object(o.jsx)(f.b,{exact:!0,path:"/",component:g}),Object(o.jsx)(f.b,{path:"/new-folder",component:k}),Object(o.jsx)(f.b,{path:"/new-note",component:C}),Object(o.jsx)(f.b,{path:"/folder/:folderId",component:g}),Object(o.jsx)(f.b,{path:"/note/:noteId",component:w}),Object(o.jsx)(f.b,{component:S})]})})})]})]})})}}]),n}(a.a.Component);n(36);i.a.render(Object(o.jsx)(s.a,{children:Object(o.jsx)(F,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.10e075b8.chunk.js.map